# 题

1.A

2.D

3.B

4.C

5.D

# 题

**1**
$$
\begin{aligned}
&F=\overline{AB}\overline{BC}+\overline{A}C\\
&=(\overline{A}+\overline{B})(\overline{B}+\overline{C})+\overline{A}C\\
&=\overline{A}\overline{B}+\overline{A}\overline{C}+\overline{B}+\overline{B}\overline{C}+\overline{A}C\\
&=\overline{A}\overline{B}+\overline{A}+\overline{B}\\
&=\overline{A}+\overline{B}\\
&=\overline{AB}
\end{aligned}
$$
**2**

（1）

```
所有的R型指令：
sll $9,$19,2
add $9,$9,$22
选择add $9,$9,$22：
000000 01001 10110 01001 00000
选择sll $9,$19,2：
000000 00000 10011 01001 00010
```

（2）

```
所有的I型指令：
lw   $8,0($9)
bne  $8,$21,Exit
addi $19,$19,1
选择lw   $8,0($9)：
01001 01000 0000000000000000
选择bne  $8,$21,Exit：
01000 10101 0000000000000010
选择addi $19,$19,1：
10011 10011 0000000000000001
```

**3**

（1）
$$
虚页号：\log_2(\frac{16GB}{16KB})=20\\
页内偏移：\log_2(16K)=14\\
$$
（2）
$$
实页号：\log_2(\frac{256MB}{16KB})=14\\
页内偏移：\log_2(16K)=14\\
$$
（3）
$$
16GB\div16KB=2^{20}
$$
（4）
$$
14+1+1=16
$$
（5）
$$
2^{20}\times16位=2MB
$$

# 题

（1）\$s1	\$s2	\$s0	$s1(或\$s2)

（2）3	1

# 题

（1）

Cache块数：
$$
1KB\div16B=2^6
$$
Cache组数：
$$
2^6\div4=2^4
$$
主存地址位数：
$$
\log_2(64K)=16
$$
主存地址从低位到高位依次是：
$$
\begin{aligned}
&块内地址(Offset)：\log_216=4\\
&组号(Index)：\log_22^4=4\\
&标记(Tag)：16-4-4=8\\
\end{aligned}
$$
（2）
$$
2^6\times(8+1+1+16\times8)位=1104B
$$

# 题

（1）

lw-add

lw-sw

（2）

```
I1:	lw  $1, 0($2)
I4:	or  $5, $6, $7
I5:	sub $8, $6, $7
I2: add $3, $1, $2
I3:	sw  $1, 4($2)
```

# 题

（1）

逻辑地址空间：
$$
2^{10}\times2^{10}\times4096B=2^{32}B
$$
第一级页表大小：
$$
2^{10}\times32位=4KB
$$
第二级页表一共有页表项：
$$
2^{10}\times2^{10}=2^{20}
$$
（2）

0x01234567的页目录索引：
$$
0000 0001 00
$$
对应页目录项在页目录中的页内偏移：
$$
0000 0001 0000=0x010
$$
所求页目录项的逻辑地址：
$$
0xC0300000+0x010=0xC0300010
$$
（3）
$$
0x8C000000+(0x8C000000>>12)<<2=0x8C230000
$$
（4）

$$
0x89ABCDEF=1000 1001 1010 1011 1100 1101 1110 1111
$$
12到21位为1010111100

其后补两个0得到1010 1111 0000 =0xAF0

该逻辑地址对应的页表项的物理地址：
$$
0x00008000+0xAF0=0x00008AF0
$$

$$
0x00008000>>\log_24096=0x00000008
$$

由于页框号只有20位，故该逻辑地址对应的页目录项中包含的物理页框号：
$$
0x00008=0000 0000 0000 0000 1000
$$

# 题

```
semaphore get_on = 1;//上车同步信号量
semaphore get_down = 0;//下车同步信号量
semaphore run = 0;//汽车运行同步信号量
int passenger_num = 0;//车上乘客数量
semaphore mutex = 1;//保护passenger_num

main(){
	cobegin{
		Car();
		Passenger();
	}coend
}

Car(){
	while(True){
		P(run);
		//运行
		V(get_down);
	}
}

Passenger(){
	while(True){
		P(get_on);
		P(mutex);
		//上车
		passenger_num++;
		V(mutex);
		if(passenger_num==M)V(run);
		else V(get_on);
		P(get_down);
		P(mutex);
		//下车
		passenger_num--;
		V(mutex);
		if(passenger_num==0)V(get_on);
		else V(get_down)
	}
}
```

# 题

（1）

| 时间 | 0-2  | 2-5  | 5-8  | 8-9  | 9-11 | 11-15 | 15-19 |
| ---- | ---- | ---- | ---- | ---- | ---- | ----- | ----- |
| 编号 | 2    | 3    | 4    | 6    | 5    | 1     | 7     |

2号作业最先完成。

平均周转时间：
$$
(2+4+4+2+4+15+11)\div7=6(秒)
$$
（2）

| 时间 | 0-1  | 1-4  | 4-5  | 5-7  | 7-8  | 8-10 | 10-14 | 14-16 | 16-19 |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ----- | ----- | ----- |
| 编号 | 2    | 3    | 2    | 1    | 6    | 1    | 7     | 5     | 4     |

4号作业最先完成。

平均周转时间：
$$
(10+5+3+15+9+1+6)\div7=7(秒)
$$

# 题

（1）

二级目录读取次数：
$$
\lceil5\div4\rceil=2
$$
三级目录读取次数：

d5下只有一个文件A，故1次。

文件A读取次数：
$$
\lceil590\div2\rceil=295
$$
故将A读入内存至少需要次数：
$$
2+1+295=298
$$
（2）

同（1），读出A的目录项需要3次。

由于A是连续分配的，可知记录号为480的记录在A的第480÷2=240个物理块，故只需读取一次A的第240个物理块得到记录号为480的记录。

所以总次数为3+1=4次。

（3）
$$
(10+512\div4+(512\div4)^2)\times512B=8261KB
$$


